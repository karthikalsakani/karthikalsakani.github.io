<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karthik Alasakani | L&D Strategist & Systems Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Slate & Amber -->
    <!-- Application Structure Plan: A single-page portfolio with thematic sections. The core change is the removal of all modals. Project demos are now embedded directly within expandable project cards, making them immediately accessible. The "AI Interview Prep" feature is also embedded, displaying results inline upon a button click. A new visual cue (a curved arrow) has been added to guide users to this feature, improving discoverability without intrusive pop-ups. This creates a more fluid, integrated, and less intimidating user experience. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Core Competencies -> Goal: Compare -> Viz: Chart.js Radar Chart -> Interaction: Hover -> Justification: Quick visual summary.
        - Report Info: Professional Experience -> Goal: Inform & Engage -> Viz: Interactive timeline + Inline AI feature -> Interaction: Click tabs for details; click '‚ú®' icon to call Gemini API and display results inline -> Justification: More seamless and less intimidating than a modal.
        - Report Info: Personal Projects -> Goal: Demonstrate & Engage -> Viz: Expandable cards with embedded demos -> Interaction: Click to expand/collapse and interact with demos -> Justification: Makes demos instantly accessible and showcases functionality without pop-ups. No SVG/Mermaid used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
            color: #1e293b; /* slate-800 */
        }
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover, .nav-link.active {
            color: #f59e0b; /* amber-500 */
        }
        .section-title {
            color: #0f172a; /* slate-900 */
        }
        .btn-primary {
            background-color: #f59e0b; /* amber-500 */
            color: #0f172a; /* slate-900 */
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #d97706; /* amber-600 */
        }
        .btn-primary:disabled {
            background-color: #fcd34d; /* amber-300 */
            cursor: not-allowed;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 40vh;
            width: 100%;
            max-width: 600px;
            max-height: 400px;
        }
         @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .spinner {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #f59e0b; /* amber-500 */
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .timetable-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 4px;
            font-size: 0.7rem;
        }
        .timetable-header, .timetable-slot {
            padding: 4px;
            text-align: center;
            border-radius: 4px;
        }
        .timetable-header {
            font-weight: 600;
            background-color: #e2e8f0; /* slate-200 */
        }
        .timetable-slot {
            background-color: #f1f5f9; /* slate-100 */
            min-height: 40px;
        }
        .timetable-class {
            background-color: #fef3c7; /* amber-100 */
            border: 1px solid #fde68a; /* amber-200 */
            color: #78350f; /* amber-900 */
            font-weight: 500;
        }
        .demo-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .demo-container.open {
            max-height: 1000px; /* Adjust as needed */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Nav -->
    <header id="header" class="bg-slate-50/80 backdrop-blur-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-slate-800">Karthik Alasakani</a>
            <div class="hidden md:flex items-center space-x-8">
                <a href="#philosophy" class="nav-link font-medium">Philosophy</a>
                <a href="#experience" class="nav-link font-medium">Experience</a>
                <a href="#projects" class="nav-link font-medium">Projects</a>
                <a href="#skills" class="nav-link font-medium">Skills</a>
            </div>
             <a href="mailto:karthik.alsakani@gmail.com" class="btn-primary px-4 py-2 rounded-lg text-sm font-semibold shadow-sm">Contact Me</a>
        </nav>
    </header>

    <main class="container mx-auto px-6 py-12 md:py-20">

        <!-- Hero Section -->
        <section id="hero" class="text-center mb-20 md:mb-32">
            <h1 class="text-4xl md:text-6xl font-bold tracking-tight text-slate-900 mb-4">L&D Strategist & Systems Builder</h1>
            <p class="text-lg md:text-xl max-w-3xl mx-auto text-slate-600">
                Transforming learning through scalable, AI-first systems. I bridge the gap between academic theory and practical, performance-driven training solutions.
            </p>
        </section>

        <!-- Philosophy Section -->
        <section id="philosophy" class="mb-20 md:mb-32">
            <h2 class="section-title text-3xl font-bold text-center mb-12">My Approach</h2>
             <div class="text-center max-w-2xl mx-auto mb-12">
                <p class="text-slate-600">This section outlines my core mindset, which aligns directly with the values of modern, impactful L&D. I believe in building systems, leveraging technology, and focusing on measurable outcomes to foster genuine growth and performance enhancement.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="text-3xl mb-3">‚öôÔ∏è</div>
                    <h3 class="font-semibold text-lg mb-2">Systems Thinker</h3>
                    <p class="text-slate-600 text-sm">I design L&D initiatives not as one-off events, but as repeatable, scalable systems that integrate seamlessly into the organizational workflow, ensuring consistency and long-term impact.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="text-3xl mb-3">ü§ñ</div>
                    <h3 class="font-semibold text-lg mb-2">AI-First Innovator</h3>
                    <p class="text-slate-600 text-sm">I actively build with and champion AI tools to create smarter, more personalized, and efficient learning experiences, moving beyond adoption to genuine application development.</p>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
                    <div class="text-3xl mb-3">üéØ</div>
                    <h3 class="font-semibold text-lg mb-2">Execution-Focused</h3>
                    <p class="text-slate-600 text-sm">My focus is on practical execution and delivering tangible results. I translate high-level strategy into actionable plans and meticulously manage them to completion and beyond.</p>
                </div>
            </div>
        </section>

        <!-- Experience Section -->
        <section id="experience" class="mb-20 md:mb-32">
            <h2 class="section-title text-3xl font-bold text-center mb-12">Career Journey</h2>
             <div class="text-center max-w-2xl mx-auto mb-12">
                <p class="text-slate-600">This timeline highlights my professional roles. My time as Assistant Dean at Joy University was a pivotal experience where I functioned as a de-facto L&D systems architect, laying the groundwork for the institution's entire training and operational infrastructure. Click a role to see the details.</p>
            </div>
            <div id="experience-container" class="max-w-4xl mx-auto">
                <!-- JS will populate this section -->
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="mb-20 md:mb-32">
            <h2 class="section-title text-3xl font-bold text-center mb-12">Personal Projects Showcase</h2>
            <div class="text-center max-w-2xl mx-auto mb-12">
                <p class="text-slate-600">I believe in learning by building. These projects are tangible proof of my ability to design and execute complex, end-to-end solutions that solve real-world problems. They demonstrate my passion for technology, product thinking, and user-centric design.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-8" id="projects-grid">
                <!-- JS will populate this section -->
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="mb-20 md:mb-32">
            <h2 class="section-title text-3xl font-bold text-center mb-12">Core Competencies</h2>
             <div class="text-center max-w-2xl mx-auto mb-12">
                <p class="text-slate-600">This visualization provides a holistic view of my skill set, blending strategic L&D capabilities with deep technical and analytical expertise. This unique combination allows me to not only design training but also to build the systems and analyze the data that make it effective.</p>
            </div>
            <div class="chart-container">
                <canvas id="skillsChart"></canvas>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-slate-200 text-center py-6">
        <p class="text-slate-600">Designed & Built by Karthik Alasakani | 2025</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const appData = {
                experience: [
                    {
                        role: "Assistant Dean & Project Lead",
                        company: "Joy University",
                        duration: "Sep 2022 ‚Äì Dec 2024",
                        description: "Spearheaded the design and end-to-end implementation of the university's core Learning Management System (LMS/ERP), creating a productised and scalable training infrastructure for all non-sales (faculty) teams.",
                        points: [
                            "<strong>Onboarding & OJT Excellence:</strong> Engineered and delivered a comprehensive onboarding and structured on-the-job training (OJT) program for 50+ new faculty members on the new technology stack, ensuring rapid, effective adoption and performance readiness.",
                            "<strong>Instructional Design & Productisation:</strong> Functioned as the lead Instructional Designer for core university policies, breaking down complex requirements into clear, structured, and effective regulatory frameworks. This work was foundational to creating repeatable and consistent operational guides.",
                            "<strong>Individual Development & Needs Analysis:</strong> Drove faculty growth by organizing targeted Faculty Development Programmes (FDPs) based on identified skill gaps, directly analogous to implementing and supporting Individual Development Plans (IDPs).",
                            "<strong>Impact Measurement:</strong> Established and managed the system for tracking faculty engagement and performance within the new LMS, creating a direct link between training efforts and operational outcomes. Used Google Sheets extensively for progress mapping and data analysis.",
                            "<strong>Stakeholder Coordination:</strong> Led all cross-functional communication and coordination between university leadership, departmental deans, faculty members, and external software vendors to ensure seamless planning and execution of the institution-wide rollout."
                        ]
                    },
                    {
                        role: "Assistant Professor",
                        company: "Siddhartha Academy of Higher Education",
                        duration: "Jan 2025 ‚Äì Present",
                        description: "Deliver structured training and instruction to postgraduate and undergraduate students, honing skills in curriculum delivery and learner engagement.",
                        points: [
                            "Instructing graduate and undergraduate courses with a focus on clear communication of complex topics.",
                            "Mentoring students, providing guidance on their academic and career paths.",
                            "Contributing to departmental curriculum development discussions."
                        ]
                    }
                ],
                projects: [
                    {
                        id: 'acadia-plan',
                        title: "AcadiaPlan",
                        subtitle: "Intelligent University Timetabler",
                        description: "Architected and built a full-stack web application to solve the complex Constraint Satisfaction Problem (CSP) of university timetabling, demonstrating end-to-end product development.",
                        tags: ["React", "TailwindCSS", "Systems Design", "Algorithm"],
                        details: `
                            <h4 class="font-semibold text-lg mb-2">Key Features & Architecture:</h4>
                            <p class="text-slate-600 mb-4">This project was an exercise in building a complete, productised system from scratch. It handles complex data inputs, rule definitions, and uses a custom solver to generate optimized outputs.</p>
                            <ul class="space-y-2 text-slate-700 text-sm list-disc list-inside mb-6">
                                <li><strong>Modular Data Setup:</strong> Manage programmes, courses, faculty, and resources through an intuitive, CSV-enabled interface.</li>
                                <li><strong>Dynamic Constraint Engine:</strong> Define both university-wide rules and custom constraints (e.g., faculty unavailability) with toggle controls.</li>
                                <li><strong>Two-Step Generation:</strong> An initial automated faculty allocation step followed by a powerful backtracking solver for final timetable generation.</li>
                            </ul>
                            <div class="demo-container">
                                <div class="border-t border-slate-200 pt-6">
                                    <h4 class="font-semibold text-lg mb-2">‚öôÔ∏è Simulated Demo:</h4>
                                    <p class="text-slate-600 mb-4 text-sm">This is a simplified simulation of the timetabling process to demonstrate the application's workflow.</p>
                                    <div class="space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-200">
                                         <p class="text-sm"><strong>Step 1:</strong> Define inputs and constraints (pre-filled for demo).</p>
                                         <button id="generate-timetable-btn" class="btn-primary w-full py-2 rounded-md font-semibold flex items-center justify-center">
                                            <span id="timetable-btn-text">Generate Timetable</span>
                                            <div id="timetable-spinner" class="spinner ml-2 hidden"></div>
                                        </button>
                                        <div id="timetable-output" class="hidden mt-4">
                                            <p class="text-sm font-semibold mb-2"><strong>Step 2:</strong> Review Generated Timetable (Sample Output)</p>
                                            <div class="timetable-grid p-2 bg-white rounded-md">
                                                <div class="timetable-header">Time</div><div class="timetable-header">Mon</div><div class="timetable-header">Tue</div><div class="timetable-header">Wed</div><div class="timetable-header">Thu</div><div class="timetable-header">Fri</div>
                                                <div class="timetable-header">9-10</div><div class="timetable-slot timetable-class">CS101<br><small>RM-A</small></div><div class="timetable-slot"></div><div class="timetable-slot timetable-class">MA201<br><small>RM-B</small></div><div class="timetable-slot"></div><div class="timetable-slot timetable-class">CS101<br><small>RM-A</small></div>
                                                <div class="timetable-header">10-11</div><div class="timetable-slot"></div><div class="timetable-slot timetable-class">PH102<br><small>RM-C</small></div><div class="timetable-slot"></div><div class="timetable-slot timetable-class">MA201<br><small>RM-B</small></div><div class="timetable-slot"></div>
                                                <div class="timetable-header">11-12</div><div class="timetable-slot timetable-class">EE101<br><small>RM-D</small></div><div class="timetable-slot"></div><div class="timetable-slot timetable-class">PH102<br><small>RM-C</small></div><div class="timetable-slot"></div><div class="timetable-slot timetable-class">EE101<br><small>RM-D</small></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `
                    },
                    {
                        id: 'profile-press',
                        title: "ProfilePress AI",
                        subtitle: "AI-Powered Career Translator",
                        description: "Designed and developed a proof-of-concept web application using the Gemini API to help professionals translate their experience for new career paths.",
                        tags: ["Generative AI", "Gemini API", "React", "HR-Tech"],
                        details: `
                            <h4 class="font-semibold text-lg mb-2">Key Features & Architecture:</h4>
                            <p class="text-slate-600 mb-4">This project demonstrates a proactive, innovation-focused mindset by solving a real-world problem in professional development. It's not just about using AI, but building with it.</p>
                            <div class="demo-container">
                                <div class="border-t border-slate-200 pt-6">
                                    <h4 class="font-semibold text-lg mb-2">‚ú® Live Gemini API Demo:</h4>
                                    <p class="text-slate-600 mb-4 text-sm">Try the live demo below to see how it rephrases resume points for a target role.</p>
                                    <div class="space-y-4 p-4 bg-slate-50 rounded-lg border border-slate-200">
                                        <div>
                                            <label for="raw-exp" class="block text-sm font-medium text-slate-700 mb-1">Your Raw Experience:</label>
                                            <textarea id="raw-exp" rows="3" class="w-full p-2 border rounded-md bg-white">Developed new course curriculum and syllabi.</textarea>
                                        </div>
                                        <div>
                                            <label for="target-role" class="block text-sm font-medium text-slate-700 mb-1">Target Role:</label>
                                            <input type="text" id="target-role" class="w-full p-2 border rounded-md bg-white" value="Project Manager">
                                        </div>
                                        <button id="translate-btn" class="btn-primary w-full py-2 rounded-md font-semibold flex items-center justify-center">
                                            <span id="translate-btn-text">Translate with AI</span>
                                            <div id="translate-spinner" class="spinner ml-2 hidden"></div>
                                        </button>
                                        <div id="ai-output" class="hidden mt-4 p-4 bg-amber-50 border-l-4 border-amber-400 rounded-r-lg"></div>
                                    </div>
                                </div>
                            </div>
                        `
                    }
                ],
                skills: {
                    labels: ['L&D Strategy', 'Instructional Design', 'AI Application', 'Stakeholder Mgt.', 'Systems Design', 'Data Analysis', 'Project Mgt.'],
                    data: [90, 85, 95, 90, 95, 80, 85]
                }
            };

            // --- Gemini API Call Function ---
            async function callGemini(prompt) {
                const apiKey = "AIzaSyDOvUrKmJTKy5hfBkcIHFbxC-MymYGCwJE"; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        return `Error: API request failed with status ${response.status}. Please try again.`;
                    }

                    const result = await response.json();
                    
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        return result.candidates[0].content.parts[0].text;
                    } else {
                        return "Error: Could not retrieve a valid response from the AI. The response structure might have changed.";
                    }
                } catch (error) {
                    return `Error: An unexpected error occurred: ${error.message}. Check your network connection.`;
                }
            }
            
            // --- Experience Section ---
            const experienceContainer = document.getElementById('experience-container');
            let activeExperienceTab = 0;

            function renderExperience() {
                experienceContainer.innerHTML = `
                    <div class="flex flex-col gap-4">
                        <div class="flex border-b border-slate-200 overflow-x-auto">
                            ${appData.experience.map((exp, index) => `
                                <button data-index="${index}" class="experience-tab text-left whitespace-nowrap py-3 px-4 font-medium -mb-px transition-colors duration-200 ${index === activeExperienceTab ? 'text-amber-500 border-b-2 border-amber-500' : 'text-slate-500 border-b-2 border-transparent hover:border-slate-300'}">
                                    ${exp.role}
                                </button>
                            `).join('')}
                        </div>
                        <div id="experience-details" class="flex-1"></div>
                    </div>
                `;
                renderExperienceDetails();
                experienceContainer.querySelectorAll('.experience-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        activeExperienceTab = parseInt(e.currentTarget.dataset.index);
                        renderExperience();
                    });
                });
            }

            function renderExperienceDetails() {
                const detailsContainer = document.getElementById('experience-details');
                const exp = appData.experience[activeExperienceTab];
                detailsContainer.innerHTML = `
                    <div class="p-4 bg-white rounded-xl shadow-sm border border-slate-200">
                        <h3 class="text-xl font-bold text-slate-800">${exp.role}</h3>
                        <p class="text-amber-600 font-semibold mb-2">${exp.company}</p>
                        <p class="text-sm text-slate-500 mb-4">${exp.duration}</p>
                        <p class="italic text-slate-600 mb-4">${exp.description}</p>
                        <ul class="space-y-3 text-sm text-slate-700">
                            ${exp.points.map((point, index) => `
                                <li class="flex items-start group relative">
                                    <span class="text-amber-500 mr-2 mt-1">‚óÜ</span>
                                    <span class="flex-1">${point}</span>
                                    <button class="generate-interview-btn ml-2 text-xs text-amber-600 hover:text-amber-800 font-semibold" title="Generate Interview Question">‚ú® Prep</button>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                `;
                addInterviewPrepEventListeners();
            }

            renderExperience();

            // --- Projects Section ---
            const projectsGrid = document.getElementById('projects-grid');
            
            projectsGrid.innerHTML = appData.projects.map(p => `
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 flex flex-col">
                    <div id="${p.id}-card">
                        <h3 class="font-bold text-xl mb-1">${p.title}</h3>
                        <p class="text-amber-600 font-semibold mb-3">${p.subtitle}</p>
                        <p class="text-slate-600 text-sm mb-4 flex-grow">${p.description}</p>
                        <div class="flex flex-wrap gap-2 mb-6">
                            ${p.tags.map(tag => `<span class="bg-slate-100 text-slate-600 text-xs font-medium px-2.5 py-1 rounded-full">${tag}</span>`).join('')}
                        </div>
                        <div class="mt-auto">${p.details}</div>
                    </div>
                     <button data-project-id="${p.id}" class="toggle-demo-btn mt-4 w-full text-center py-2 px-4 rounded-lg bg-slate-100 text-slate-700 font-semibold hover:bg-slate-200 transition">Show Demo</button>
                </div>
            `).join('');
            
            // --- Project Demo Toggling ---
            document.querySelectorAll('.toggle-demo-btn').forEach(btn => {
                const projectId = btn.dataset.projectId;
                const card = document.getElementById(`${projectId}-card`);
                const demoContainer = card.querySelector('.demo-container');
                
                btn.addEventListener('click', () => {
                    const isOpen = demoContainer.classList.contains('open');
                    demoContainer.classList.toggle('open');
                    btn.textContent = isOpen ? 'Show Demo' : 'Hide Demo';
                });
            });

             // --- Live AI Demo Logic ---
            const translateBtn = document.getElementById('translate-btn');
            if (translateBtn) {
                translateBtn.addEventListener('click', async () => {
                    const outputDiv = document.getElementById('ai-output');
                    const btnText = document.getElementById('translate-btn-text');
                    const spinner = document.getElementById('translate-spinner');
                    const rawExp = document.getElementById('raw-exp').value;
                    const targetRole = document.getElementById('target-role').value;

                    btnText.textContent = 'Generating...';
                    spinner.classList.remove('hidden');
                    translateBtn.disabled = true;
                    outputDiv.classList.add('hidden');

                    const prompt = `You are an expert career coach. Rewrite the following resume bullet point: "${rawExp}" to be more impactful for a "${targetRole}" position. Provide 3 distinct options, starting each with a strong action verb and quantifying the achievement. Your response must be ONLY an HTML unordered list (<ul>...</ul>) and nothing else. Do not include any introductory text or markdown formatting.`;
                    
                    const result = await callGemini(prompt);
                    const cleanedResult = result.replace(/^```html\s*/, '').replace(/```$/, '').trim();
                    
                    outputDiv.innerHTML = cleanedResult;
                    outputDiv.classList.remove('hidden');
                    btnText.textContent = 'Translate with AI';
                    spinner.classList.add('hidden');
                    translateBtn.disabled = false;
                });
            }

            // --- AcadiaPlan Demo Logic ---
            const generateBtn = document.getElementById('generate-timetable-btn');
            if(generateBtn) {
                generateBtn.addEventListener('click', () => {
                    const outputDiv = document.getElementById('timetable-output');
                    const btnText = document.getElementById('timetable-btn-text');
                    const spinner = document.getElementById('timetable-spinner');

                    btnText.textContent = 'Solving Constraints...';
                    spinner.classList.remove('hidden');
                    generateBtn.disabled = true;
                    outputDiv.classList.add('hidden');

                    setTimeout(() => {
                        outputDiv.classList.remove('hidden');
                        btnText.textContent = 'Generate Timetable';
                        spinner.classList.add('hidden');
                        generateBtn.disabled = false;
                    }, 1200);
                });
            }

            // --- Interview Prep AI Logic ---
            function addInterviewPrepEventListeners() {
                document.querySelectorAll('.generate-interview-btn').forEach(btn => {
                    btn.addEventListener('click', async (e) => {
                        const li = e.currentTarget.closest('li');
                        let prepContainer = li.nextElementSibling;
                        
                        // Remove existing prep container if it's there
                        if (prepContainer && prepContainer.classList.contains('prep-container')) {
                            prepContainer.remove();
                            return;
                        }
                        
                        // Create and insert new prep container
                        prepContainer = document.createElement('li');
                        prepContainer.className = 'prep-container mt-2 mb-4 ml-6';
                        prepContainer.innerHTML = '<div class="flex items-center p-4 bg-slate-50 rounded-lg"><div class="spinner"></div><p class="ml-4 text-slate-600">Generating question...</p></div>';
                        li.insertAdjacentElement('afterend', prepContainer);

                        const achievementText = e.currentTarget.previousElementSibling.textContent;
                        const prompt = `You are an expert interviewer. Based on this resume achievement: "${achievementText}", generate one challenging behavioral interview question and then draft a sample answer using the STAR method. The question should start with "Tell me about a time when...". Format the entire response in clean HTML with headings for the question and each STAR component (Situation, Task, Action, Result). Do not wrap the response in markdown code fences.`;

                        const result = await callGemini(prompt);
                        const cleanedResult = result.replace(/^```html\s*/, '').replace(/```$/, '').trim();
                        prepContainer.innerHTML = `<div class="p-4 bg-slate-50 rounded-lg border-l-4 border-amber-400">${cleanedResult}</div>`;
                    });
                });
            }
            
            // --- Skills Chart ---
            const ctx = document.getElementById('skillsChart').getContext('2d');
            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: appData.skills.labels,
                    datasets: [{
                        label: 'Proficiency',
                        data: appData.skills.data,
                        backgroundColor: 'rgba(245, 158, 11, 0.2)', // amber-500
                        borderColor: 'rgb(245, 158, 11)',
                        pointBackgroundColor: 'rgb(245, 158, 11)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgb(245, 158, 11)'
                    }]
                },
                options: {
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(30, 41, 59, 0.1)' },
                            grid: { color: 'rgba(30, 41, 59, 0.1)' },
                            pointLabels: { 
                                font: { size: 12, weight: '500' },
                                color: '#334155' // slate-700
                            },
                            ticks: {
                                backdropColor: 'rgba(248, 250, 252, 0.7)', // slate-50
                                color: '#64748b', // slate-500
                                stepSize: 20
                            },
                            suggestedMin: 0,
                            suggestedMax: 100
                        }
                    },
                    plugins: {
                        legend: {
                           display: false
                        }
                    }
                }
            });

            // Nav link smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

        });
    </script>

</body>
</html>
